<!DOCTYPE html>
<html>
<head>
    <title>CS424 - P2 - Divvy Map</title>
    <script src="js/d3.v3.min.js"></script>
    <meta charset="utf-8" />
    <link 
        rel="stylesheet" 
        href="css/leaflet.css"
    />
<style>
body {
  font-family: Droid-Sans, Helvetica, sans;
  font-size: 10pt;
}
<script>
  window.x = w.innerWidth || e.clientWidth || g.clientWidth;
  window.y = w.innerHeight|| e.clientHeight|| g.clientHeight;
</script>
</style>
</head>
<body>
    <div id="map" style="width: 1000px; height: 550px"></div>
    <div id="contact">
    <br />
    Current group members:<br />
    <a href="mailto:mt@trustdarkness.com">Mike Thompson</a><br />
    <a href="mailto:bspahr314@gmail.com">Brian Spahr</a><br />
    <a href="mailto:ddesut2@uic.edu">Dane DeSutter</a><br />
    <a href="bugz/">Bugzilla</a>
    <script
        src="js/leaflet.js">
    </script>

    <script>
        d3.select("map")
          .style("width", window.x)
          .style("height", window.y-200);
        var map = L.map('map').setView([41.90, -87.65], 13);
        mapLink = 
            '<a href="http://openstreetmap.org">OpenStreetMap</a>';
        L.tileLayer(
            'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Map data &copy; ' + mapLink,
            maxZoom: 18,
            }).addTo(map);
        var url = 'divy.csv'
        var stations = []
        csv = d3.csv(url)
	  .get(function(error, data) {
 	    stations = data;
            for (i=0; i<stations.length; i++) {
            var marker = L.marker([stations[i].latitude, stations[i].longitude]).addTo(map);
	    marker.bindPopup(stations[i].name +"<br />capacity: "+stations[i].dpcapacity);
	}
      })
    </script>
</body>
</html>
